let COMMENT_STARTERS = ['//', '#'];
let Line = function (key, value) {
    if (!key) {
        key = '';
    }
    key = key.toString ();

    let isComment = Line.checkIsComment (key);

    if (isComment) {
        key = Line.normalizeComment (key);
    }
    this._isComment = isComment;
    this._key = key || '';
    this._value = value || '';
};
Line.checkIsComment = function (val) {
    for (let i = 0; i < COMMENT_STARTERS.length; i++) {
        let commentStarter = COMMENT_STARTERS[i];
        if (val.indexOf (commentStarter) == 0) {
            return true;
        }
    }
    return false;
};
Line.normalizeComment = function (val) {
    for (let i = 0; i < COMMENT_STARTERS.length; i++) {
        let commentStarter = COMMENT_STARTERS[i];
        let index = val.indexOf (commentStarter);
        if (index == 0) {
            let normalized = val.substr (commentStarter.length, val.length - commentStarter.length);
            normalized = normalized.trim ();
            return normalized;
        }
    }
    return val;
};
Line.prototype.isEmpty = function () {
    return !this._isComment && !this._key;
};

Line.prototype.isComment = function () {
    return this._isComment;
};

Line.prototype.getComment = function () {
    return this._key;
};

Line.prototype.getKey = function () {
    return this._key;
};

Line.prototype.getValue = function () {
    return this._value;
};

module.exports = Line;
